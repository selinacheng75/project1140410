<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>簡單表單</title>
</head>
<body>
  <h2>新增客戶名單</h2>
  <label for="membername">姓名：</label>
  <input type="text" id="membername">
  <label for="mobile">電話：</label>
  <input type="text" id="mobile">
  <label for="deposit">儲金：</label>
  <input type="text" id="deposit">
  <button onclick="insertpost()">新增</button>
  <script>
    function insertpost() {
      //姓名正確的
      let membername = document.getElementById("membername").value;
      let mobile = document.getElementById("mobile").value;
      let deposit = document.getElementById("deposit").value;
      if (membername && mobile && deposit) {
        //格式檢查
        fetch('http://localhost:8000/api/insertdata', {
          method: 'POST',
          mode: 'cors', // ✅ 很關鍵
          body: JSON.stringify({ table:"members", membername: membername , mobile: mobile , deposit: deposit}),
        })
      } else {
        alert("請輸入資料");
      }
    }
  </script>
</body>
</html>